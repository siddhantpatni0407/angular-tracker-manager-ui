<div class="container mt-5 position-relative">
  <!-- Header Section -->
  <div class="d-flex justify-content-between align-items-center">
    <h2 class="fw-bold text-primary">
      <i class="bi bi-truck"></i> Register a New Vehicle
    </h2>

    <!-- Back to Dashboard Button -->
    <button
      class="btn btn-outline-dark btn-lg shadow-sm rounded-pill px-4"
      (click)="navigateToDashboard()"
    >
      <i class="bi bi-arrow-left-circle"></i> Dashboard
    </button>
  </div>

  <!-- Form Section -->
  <div class="card shadow-lg mt-4">
    <div class="card-header bg-primary text-white text-center">
      <h4>ğŸš— Vehicle Registration Form</h4>
    </div>
    <div class="card-body">
      <!-- Success Message -->
      <div *ngIf="successMessage" class="alert alert-success text-center">
        âœ… {{ successMessage }}
      </div>

      <!-- Error Message -->
      <div *ngIf="errorMessage" class="alert alert-danger text-center">
        âŒ {{ errorMessage }}
      </div>

      <form (ngSubmit)="registerVehicle()">
        <!-- Vehicle Type -->
        <div class="mb-3">
          <label class="form-label">Vehicle Type</label>
          <input
            type="text"
            class="form-control"
            name="vehicleType"
            [(ngModel)]="vehicleData.vehicleType"
            required
          />
          <div *ngIf="submitted && !vehicleData.vehicleType" class="text-danger">
            âš ï¸ Vehicle Type is required.
          </div>
        </div>

        <!-- Company -->
        <div class="mb-3">
          <label class="form-label">Company</label>
          <input
            type="text"
            class="form-control"
            name="vehicleCompany"
            [(ngModel)]="vehicleData.vehicleCompany"
            required
          />
          <div *ngIf="submitted && !vehicleData.vehicleCompany" class="text-danger">
            âš ï¸ Company is required.
          </div>
        </div>

        <!-- Model -->
        <div class="mb-3">
          <label class="form-label">Model</label>
          <input
            type="text"
            class="form-control"
            name="vehicleModel"
            [(ngModel)]="vehicleData.vehicleModel"
            required
          />
          <div *ngIf="submitted && !vehicleData.vehicleModel" class="text-danger">
            âš ï¸ Model is required.
          </div>
        </div>

        <!-- Chassis Number -->
        <div class="mb-3">
          <label class="form-label">Chassis Number</label>
          <input
            type="text"
            class="form-control"
            name="chassisNumber"
            [(ngModel)]="vehicleData.chassisNumber"
            required
          />
          <div *ngIf="submitted && !vehicleData.chassisNumber" class="text-danger">
            âš ï¸ Chassis Number is required.
          </div>
        </div>

        <!-- Engine Number -->
        <div class="mb-3">
          <label class="form-label">Engine Number</label>
          <input
            type="text"
            class="form-control"
            name="engineNumber"
            [(ngModel)]="vehicleData.engineNumber"
            required
          />
          <div *ngIf="submitted && !vehicleData.engineNumber" class="text-danger">
            âš ï¸ Engine Number is required.
          </div>
        </div>

        <!-- Registration Number -->
        <div class="mb-3">
          <label class="form-label">Registration Number</label>
          <input
            type="text"
            class="form-control"
            name="registrationNumber"
            [(ngModel)]="vehicleData.registrationNumber"
            (blur)="validateRegistrationNumber()"
            required
          />
          <div *ngIf="submitted && !vehicleData.registrationNumber" class="text-danger">
            âš ï¸ Registration Number is required.
          </div>
          <div *ngIf="registrationError" class="text-danger">
            âŒ Invalid format!
          </div>
        </div>

        <!-- Registration Date -->
        <div class="mb-3">
          <label class="form-label">Registration Date</label>
          <input
            type="date"
            class="form-control"
            name="registrationDate"
            [(ngModel)]="vehicleData.registrationDate"
            required
          />
          <div *ngIf="submitted && !vehicleData.registrationDate" class="text-danger">
            âš ï¸ Registration Date is required.
          </div>
        </div>

        <!-- Registration Validity Date -->
        <div class="mb-3">
          <label class="form-label">Registration Validity Date</label>
          <input
            type="date"
            class="form-control"
            name="registrationValidityDate"
            [(ngModel)]="vehicleData.registrationValidityDate"
            required
          />
          <div *ngIf="submitted && !vehicleData.registrationValidityDate" class="text-danger">
            âš ï¸ Validity Date is required.
          </div>
        </div>

        <!-- Owner Name -->
        <div class="mb-3">
          <label class="form-label">Owner Name</label>
          <input
            type="text"
            class="form-control"
            name="ownerName"
            [(ngModel)]="vehicleData.ownerName"
            required
          />
          <div *ngIf="submitted && !vehicleData.ownerName" class="text-danger">
            âš ï¸ Owner Name is required.
          </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary w-100" [disabled]="isLoading">
          <span *ngIf="isLoading" class="spinner-border spinner-border-sm"></span>
          <span *ngIf="!isLoading">ğŸš— Register Vehicle</span>
        </button>
      </form>
    </div>
  </div>
</div>
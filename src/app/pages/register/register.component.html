<div class="container mt-5 fade-in">
  <div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">
      <div class="card shadow-lg rounded-lg custom-card">
        <!-- Register Header -->
        <div
          class="card-header bg-gradient-to-r from-success to-teal text-white text-center py-4"
        >
          <h5 class="mb-0">📝 Register</h5>
        </div>

        <div class="card-body">
          <!-- Success Message -->
          <div
            *ngIf="successMessage"
            class="alert alert-success text-center fade-in"
          >
            ✅ {{ successMessage }}
          </div>

          <!-- Error Message -->
          <div
            *ngIf="errorMessage"
            class="alert alert-danger text-center fade-in"
          >
            ❌ {{ errorMessage }}
          </div>

          <!-- Registration Form -->
          <form #registerForm="ngForm" (ngSubmit)="register()">
            <!-- Name Field -->
            <div class="mb-4">
              <label class="form-label fw-bold">Name</label>
              <input
                type="text"
                [(ngModel)]="name"
                class="form-control custom-input"
                name="name"
                required
                minlength="3"
                #nameInput="ngModel"
              />
              <div
                class="text-danger small"
                *ngIf="nameInput.invalid && nameInput.touched"
              >
                Name must be at least 3 characters.
              </div>
            </div>

            <!-- Mobile Number Field -->
            <div class="mb-4">
              <label class="form-label fw-bold">Mobile Number</label>
              <input
                type="tel"
                [(ngModel)]="mobile"
                class="form-control custom-input"
                name="mobile"
                required
                pattern="^[0-9]{10}$"
                #mobileInput="ngModel"
              />
              <div
                class="text-danger small"
                *ngIf="mobileInput.invalid && mobileInput.touched"
              >
                Enter a valid 10-digit mobile number.
              </div>
            </div>

            <!-- Email Field -->
            <div class="mb-4">
              <label class="form-label fw-bold">Email</label>
              <input
                type="email"
                [(ngModel)]="email"
                class="form-control custom-input"
                name="email"
                required
                email
                #emailInput="ngModel"
              />
              <div
                class="text-danger small"
                *ngIf="emailInput.invalid && emailInput.touched"
              >
                Please enter a valid email.
              </div>
            </div>

            <!-- Password Field with Toggle -->
            <div class="mb-4">
              <label class="form-label fw-bold">Password</label>
              <div class="input-group">
                <input
                  [type]="showPassword ? 'text' : 'password'"
                  [(ngModel)]="password"
                  class="form-control custom-input"
                  name="password"
                  required
                  minlength="6"
                  #passwordInput="ngModel"
                />
                <button
                  type="button"
                  class="btn btn-outline-secondary toggle-password"
                  (click)="togglePassword()"
                >
                  <i
                    class="bi"
                    [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"
                  ></i>
                </button>
              </div>
              <div
                class="text-danger small"
                *ngIf="passwordInput.invalid && passwordInput.touched"
              >
                Password must be at least 6 characters.
              </div>
            </div>

            <!-- Role Selection Field -->
            <div class="mb-4">
              <label class="form-label fw-bold">Role</label>
              <select
                class="form-control custom-input"
                [(ngModel)]="role"
                name="role"
                required
                #roleInput="ngModel"
              >
                <option value="" disabled selected>Select Role</option>
                <option value="USER">User</option>
                <option value="ADMIN">Admin</option>
              </select>
              <div
                class="text-danger small"
                *ngIf="roleInput.invalid && roleInput.touched"
              >
                Please select a role.
              </div>
            </div>

            <!-- Register Button -->
            <button
              class="btn btn-success w-100 rounded-pill py-2 animated-btn"
              [disabled]="registerForm.invalid"
            >
              <i class="bi bi-person-plus"></i> Register
            </button>
          </form>
        </div>

        <!-- Footer Links -->
        <div class="card-footer text-center py-3">
          <small
            >Already have an account?
            <a routerLink="/login" class="text-success fw-bold">Login</a>
          </small>
        </div>
      </div>
    </div>
  </div>
</div>